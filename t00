{"__filetype__":"mobius","name":"w4_s6_u2_w4_coding_assign_base","author":"new_user","flowchart":{"id":"27a00464-38c1-fffc-c354-8a10cc9dc07d","name":"VisualizeOptions","description":"Visualise analysis results for design options","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_wf4lxgicdn","position":{"x":5520,"y":4820},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":10,"ID":"parameters_blank","meta":{"description":"","inputMode":5,"module":"ParamBlank","name":"Constant"},"argCount":0,"args":[],"print":false,"enabled":false,"terminate":false},{"type":10,"ID":"prod-775kl415ckw","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":6,"description":"Analysis on building facades"},"args":[{"name":"const_name","value":"SHOW_ANALYSIS","jsValue":"SHOW_ANALYSIS_"},{"name":"__input__","value":"\"solar\"","max":"[\"solar\", \"river_view\", \"view_ratio\"]","min":["\"solar\"","\"river_view\"","\"view_ratio\""]}]},{"type":10,"ID":"prod-x3uo7tbqc4e","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":1,"description":"Weight of solar analysis"},"args":[{"name":"const_name","value":"WEIGHT_SOLAR","jsValue":"WEIGHT_SOLAR_"},{"name":"__input__","value":50,"step":"5","min":"0","max":"100"}]},{"type":10,"ID":"prod-1b9kh9xuxhk","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":1,"description":"Weight of river view analysis"},"args":[{"name":"const_name","value":"WEIGHT_RIVER_VIEW","jsValue":"WEIGHT_RIVER_VIEW_"},{"name":"__input__","value":25,"step":"5","min":"0","max":"100"}],"selectGeom":false},{"type":10,"ID":"prod-kr66kq61bk8","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":1,"description":"Weight of view ratio analysis"},"args":[{"name":"const_name","value":"WEIGHT_VIEW_RATIO","jsValue":"WEIGHT_VIEW_RATIO_"},{"name":"__input__","value":25,"step":"5","min":"0","max":"100"}],"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":false,"hasExecuted":true},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Design Import\nOptions","id":"node_a25xtsknz5","position":{"x":5440,"y":4940},"enabled":true,"type":"","procedure":[{"type":13,"ID":"main_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":14,"ID":"prod-9x9wb9rez2c","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Import the blocks"}]},{"type":8,"ID":"prod-6j9z4n2vjev","enabled":true,"print":false,"meta":{"module":"io","name":"Import"},"argCount":4,"args":[{"name":"var_name","value":"files","jsValue":"files_"},{"name":"__model__"},{"name":"input_data","value":"\"https://mooc-s3cf.s3.ap-southeast-1.amazonaws.com/performative_modelling_v3/data/w4_design_options.zip\"","usedVars":[],"jsValue":"\"https://mooc-s3cf.s3.ap-southeast-1.amazonaws.com/performative_modelling_v3/data/w4_design_options.zip\""},{"name":"data_format","value":"'gi'","jsValue":"'gi'","usedVars":[]}],"variable":["files"]},{"type":14,"ID":"prod-joyvaacoxo","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Sort the blocks from low to high solar exposure"}]},{"type":0,"ID":"prod-02j2bzu0ydf7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"model_colls","jsValue":"model_colls_"},{"name":"value","value":"#co ?@name==\"model\"","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'co', null), ['name', null], '==', \"model\")"}],"variable":["model_colls"],"selectGeom":false},{"type":0,"ID":"prod-l1zddx023a","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"all_scores_solar","jsValue":"all_scores_solar_"},{"name":"value","value":"model_colls@scores[\"score_solar\"]","usedVars":["model_colls"],"jsValue":"__modules__.attrib.Get(__params__.model, model_colls_, ['scores', \"score_solar\"])"}],"variable":["all_scores_solar"],"selectGeom":false},{"type":0,"ID":"prod-uqnzb2ad88","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"@models","jsValue":"@models","usedVars":[]},{"name":"value","value":"listSort(model_colls, all_scores_solar)","usedVars":["model_colls","all_scores_solar"],"jsValue":"listSort(__debug__, model_colls_, all_scores_solar_)"}],"variable":null,"selectGeom":false},{"type":14,"ID":"prod-k8o667twkob","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Visualise analysis"}]},{"type":8,"ID":"prod-rniaub2lwb","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#pg ?@type==\"facade\"","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"facade\")"},{"name":"attrib","value":"SHOW_ANALYSIS","usedVars":["SHOW_ANALYSIS"],"jsValue":"SHOW_ANALYSIS_"},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false},{"type":14,"ID":"prod-6khbktt0tc","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Clean up"}]},{"type":8,"ID":"prod-owd6upv7zu9","enabled":true,"print":false,"meta":{"module":"collection","name":"Delete"},"argCount":3,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"coll","value":"#co ?@name==\"Import GI\"","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'co', null), ['name', null], '==', \"Import GI\")"}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true,"hasExecuted":true},"hasError":false,"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0",{"source":{"name":"output","type":1,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1"],"meta":{"mode":0},"parentNode":{"name":"Axes and Labels","id":"node_pulj3kvwk7r","position":{"x":5620,"y":4940},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-flhlc2mzfij","enabled":true,"print":false,"meta":{"module":"pattern","name":"Rectangle"},"argCount":4,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"origin","value":"[500, 600, -10]","usedVars":[],"jsValue":"[500, 600, -10]"},{"name":"size","value":"[1200, 1400]","usedVars":[],"jsValue":"[1200, 1400]"}],"variable":["posis"]},{"type":8,"ID":"prod-tvk40l9ds5b","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"base","jsValue":"base_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"variable":["base"]},{"type":14,"ID":"prod-q7c9x11aunr","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"X Axis"}]},{"type":8,"ID":"prod-2yna52hk2xq","enabled":true,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"arrow_lines","jsValue":"arrow_lines_"},{"name":"__model__"},{"name":"rays","value":"[[0, 0, 0], [1000, 0, 0]]","usedVars":[],"jsValue":"[[0, 0, 0], [1000, 0, 0]]"},{"name":"scale","value":"30","usedVars":[],"jsValue":"30"}],"variable":["arrow_lines"],"selectGeom":false},{"type":8,"ID":"prod-zf18w89milb","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetRound"},"argCount":6,"args":[{"name":"var_name","value":"arrows_x","jsValue":"arrows_x_"},{"name":"__model__"},{"name":"entities","value":"arrow_lines","usedVars":["arrow_lines"],"jsValue":"arrow_lines_"},{"name":"dist","value":"5","usedVars":[],"jsValue":"5"},{"name":"tolerance","value":"0.1","usedVars":[],"jsValue":"0.1"},{"name":"end_type","value":"'round_end'","jsValue":"'round_end'","usedVars":[]}],"variable":["arrows_x"]},{"type":8,"ID":"prod-apmanr3fmwq","enabled":true,"print":false,"meta":{"module":"pattern","name":"Rectangle"},"argCount":4,"args":[{"name":"var_name","value":"rec","jsValue":"rec_"},{"name":"__model__"},{"name":"origin","value":"[750, -30, 0]","usedVars":[],"jsValue":"[750, -30, 0]"},{"name":"size","value":"[100, 50]","usedVars":[],"jsValue":"[100, 50]"}],"variable":["rec"]},{"type":8,"ID":"prod-lwm34wmiglt","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"text_pgon_x","jsValue":"text_pgon_x_"},{"name":"__model__"},{"name":"entities","value":"[rec[0], rec[1], rec[3]]","usedVars":["rec"],"jsValue":"[rec_[pythonList(0, rec_.length)], rec_[pythonList(1, rec_.length)], rec_[pythonList(3, rec_.length)]]"}],"variable":["text_pgon_x"]},{"type":0,"ID":"prod-7fkdoppfznd","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"text_pgon_x@text","jsValue":"text_pgon_x_@text","usedVars":["text_pgon_x"]},{"name":"value","value":"{\"text\": \"Score solar\",\"size\": 30}","usedVars":[],"jsValue":"{\"text\": \"Score solar\",\"size\": 30}"}],"variable":null},{"type":14,"ID":"prod-y8lxa8c47g9","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Y Axis label"}]},{"type":8,"ID":"prod-1uxi5742urr","enabled":true,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"arrow_lines","jsValue":"arrow_lines_"},{"name":"__model__"},{"name":"rays","value":"[[0, 0, 0], [0, 1000, 0]]","usedVars":[],"jsValue":"[[0, 0, 0], [0, 1000, 0]]"},{"name":"scale","value":"30","usedVars":[],"jsValue":"30"}],"variable":["arrow_lines"],"selectGeom":false},{"type":8,"ID":"prod-4hu8zwba6cg","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetRound"},"argCount":6,"args":[{"name":"var_name","value":"arrows_x","jsValue":"arrows_x_"},{"name":"__model__"},{"name":"entities","value":"arrow_lines","usedVars":["arrow_lines"],"jsValue":"arrow_lines_"},{"name":"dist","value":"5","usedVars":[],"jsValue":"5"},{"name":"tolerance","value":"0.1","usedVars":[],"jsValue":"0.1"},{"name":"end_type","value":"'round_end'","jsValue":"'round_end'","usedVars":[]}],"variable":["arrows_x"],"selectGeom":false},{"type":8,"ID":"prod-efb56htrnkh","enabled":true,"print":false,"meta":{"module":"pattern","name":"Rectangle"},"argCount":4,"args":[{"name":"var_name","value":"rec","jsValue":"rec_"},{"name":"__model__"},{"name":"origin","value":"[-50, 700, 0]","usedVars":[],"jsValue":"[-50, 700, 0]"},{"name":"size","value":"[50, 100]","usedVars":[],"jsValue":"[50, 100]"}],"variable":["rec"],"selectGeom":false},{"type":8,"ID":"prod-0doa328kq39i","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"text_pgon_x","jsValue":"text_pgon_x_"},{"name":"__model__"},{"name":"entities","value":"[rec[0], rec[1], rec[2]]","usedVars":["rec"],"jsValue":"[rec_[pythonList(0, rec_.length)], rec_[pythonList(1, rec_.length)], rec_[pythonList(2, rec_.length)]]"}],"variable":["text_pgon_x"],"selectGeom":false},{"type":0,"ID":"prod-8fm7hahng93","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"text_pgon_x@text","jsValue":"text_pgon_x_@text","usedVars":["text_pgon_x"]},{"name":"value","value":"{\"text\": \"Score river view\",\"size\": 30}","usedVars":[],"jsValue":"{\"text\": \"Score river view\",\"size\": 30}"}],"variable":null,"selectGeom":false},{"type":14,"ID":"prod-dnfz3w0anfi","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Z Axis label"}],"selectGeom":false},{"type":8,"ID":"prod-4nyjqw4tlzj","enabled":true,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"arrow_lines","jsValue":"arrow_lines_"},{"name":"__model__"},{"name":"rays","value":"[[0, 0, 0], [0, 500, 0]]","usedVars":[],"jsValue":"[[0, 0, 0], [0, 500, 0]]"},{"name":"scale","value":"30","usedVars":[],"jsValue":"30"}],"variable":["arrow_lines"],"selectGeom":false},{"type":8,"ID":"prod-8nq0fpqlf4n","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetRound"},"argCount":6,"args":[{"name":"var_name","value":"arrows_z","jsValue":"arrows_z_"},{"name":"__model__"},{"name":"entities","value":"arrow_lines","usedVars":["arrow_lines"],"jsValue":"arrow_lines_"},{"name":"dist","value":"5","usedVars":[],"jsValue":"5"},{"name":"tolerance","value":"0.1","usedVars":[],"jsValue":"0.1"},{"name":"end_type","value":"'round_end'","jsValue":"'round_end'","usedVars":[]}],"variable":["arrows_z"],"selectGeom":false},{"type":8,"ID":"prod-dg10kj115wo","enabled":true,"print":false,"meta":{"module":"pattern","name":"Rectangle"},"argCount":4,"args":[{"name":"var_name","value":"rec","jsValue":"rec_"},{"name":"__model__"},{"name":"origin","value":"[-50, 200, 0]","usedVars":[],"jsValue":"[-50, 200, 0]"},{"name":"size","value":"[50, 100]","usedVars":[],"jsValue":"[50, 100]"}],"variable":["rec"],"selectGeom":false},{"type":8,"ID":"prod-ca19z6uhv14","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"text_pgon_z","jsValue":"text_pgon_z_"},{"name":"__model__"},{"name":"entities","value":"[rec[0], rec[1], rec[2]]","usedVars":["rec"],"jsValue":"[rec_[pythonList(0, rec_.length)], rec_[pythonList(1, rec_.length)], rec_[pythonList(2, rec_.length)]]"}],"variable":["text_pgon_z"],"selectGeom":false},{"type":0,"ID":"prod-yfwizyznf7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"text_pgon_z@text","jsValue":"text_pgon_z_@text","usedVars":["text_pgon_z"]},{"name":"value","value":"{\"text\": \"Score view ratio\",\"size\": 30}","usedVars":[],"jsValue":"{\"text\": \"Score view ratio\",\"size\": 30}"}],"variable":null,"selectGeom":false},{"type":8,"ID":"prod-e5sf4ngle8","enabled":true,"print":false,"meta":{"module":"modify","name":"Rotate"},"argCount":5,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[arrows_z, text_pgon_z]","usedVars":["arrows_z","text_pgon_z"],"jsValue":"[arrows_z_, text_pgon_z_]"},{"name":"ray","value":"[[0, 0, 0], [1, 0, 0]]","usedVars":[],"jsValue":"[[0, 0, 0], [1, 0, 0]]"},{"name":"angle","value":"PI / 2","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(PI)) / 2"}],"selectGeom":false},{"type":14,"ID":"prod-wn35y4s46j","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Clean up"}]},{"type":8,"ID":"prod-88wpqgveobo","enabled":true,"print":false,"meta":{"module":"edit","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#pl","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pl', null)"},{"name":"method","value":"'delete_selected'","jsValue":"'delete_selected'","usedVars":[]}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true,"hasExecuted":true},"hasExecuted":true,"hasError":false,"input":{"name":"input","type":0,"edges":[{"source":"~flowchart~nodes~0~output","target":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input","selected":false}],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode"},"output":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source","model":4}},"target":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","selected":false}],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Graph Design Options\n\\x7eEDIT~","id":"node_sfj9kqm0e","position":{"x":5520,"y":5080},"enabled":true,"type":"","procedure":[{"type":13,"ID":"main_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-wnkfvcmufrq","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"models","jsValue":"models_"},{"name":"value","value":"@models","usedVars":[],"jsValue":"__modules__.attrib.Get(__params__.model, null, 'models')"}],"variable":["models"]},{"type":14,"ID":"prod-0ta8tg6h5q2","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Get all scores"}]},{"type":0,"ID":"prod-6jno9nrcw1o","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"all_scores_solar","jsValue":"all_scores_solar_"},{"name":"value","value":"models@scores[\"score_solar\"]","usedVars":["models"],"jsValue":"__modules__.attrib.Get(__params__.model, models_, ['scores', \"score_solar\"])"}],"variable":["all_scores_solar"]},{"type":0,"ID":"prod-r5knq4ca8js","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"all_scores_view_ratio","jsValue":"all_scores_view_ratio_"},{"name":"value","value":"models@scores[\"score_view_ratio\"]","usedVars":["models"],"jsValue":"__modules__.attrib.Get(__params__.model, models_, ['scores', \"score_view_ratio\"])"}],"variable":["all_scores_view_ratio"],"selectGeom":false},{"type":0,"ID":"prod-hprwn7106ho","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"all_scores_river_view","jsValue":"all_scores_river_view_"},{"name":"value","value":"models@scores[\"score_river_view\"]","usedVars":["models"],"jsValue":"__modules__.attrib.Get(__params__.model, models_, ['scores', \"score_river_view\"])"}],"variable":["all_scores_river_view"],"selectGeom":false},{"type":14,"ID":"prod-5ukrtd5k4ct","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Get min max for each score"}]},{"type":0,"ID":"prod-ukhae7mingf","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"solar_range","jsValue":"solar_range_"},{"name":"value","value":"[min(all_scores_solar), max(all_scores_solar)]","usedVars":["all_scores_solar"],"jsValue":"[min(__debug__, all_scores_solar_), max(__debug__, all_scores_solar_)]"}],"variable":["solar_range"],"selectGeom":false},{"type":0,"ID":"prod-iwkng5djcgn","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"view_ratio_range","jsValue":"view_ratio_range_"},{"name":"value","value":"[min(all_scores_view_ratio), max(all_scores_view_ratio)]","usedVars":["all_scores_view_ratio"],"jsValue":"[min(__debug__, all_scores_view_ratio_), max(__debug__, all_scores_view_ratio_)]"}],"variable":["view_ratio_range"],"selectGeom":false},{"type":0,"ID":"prod-g8et5iwiazp","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"river_view_range","jsValue":"river_view_range_"},{"name":"value","value":"[min(all_scores_river_view), max(all_scores_river_view)]","usedVars":["all_scores_river_view"],"jsValue":"[min(__debug__, all_scores_river_view_), max(__debug__, all_scores_river_view_)]"}],"variable":["river_view_range"],"selectGeom":false},{"type":14,"ID":"prod-cxxslvyak0v","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Visualize design options"}]},{"type":4,"ID":"prod-7duhaksxe22","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(len(models))","usedVars":["models"],"jsValue":"range(__debug__, len(__debug__, models_))"}],"children":[{"type":13,"ID":"prod-as6w8z9ctur","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-bmfogc26ml","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"model_coll","jsValue":"model_coll_"},{"name":"value","value":"models[i]","usedVars":["models","i"],"jsValue":"models_[pythonList(i_, models_.length)]"}],"variable":["model_coll"]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-d8kiz735z3h","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"model_x","jsValue":"model_x_"},{"name":"value","value":"remap(i, [0, 10], [-100, 1000])","usedVars":["i"],"jsValue":"remap(__debug__, i_, [0, 10], [-100, 1000])"}],"variable":["model_x"],"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-i80quqq6k8","enabled":true,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"model_coll","usedVars":["model_coll"],"jsValue":"model_coll_"},{"name":"vectors","value":"[model_x, 1230, 0]","usedVars":["model_x"],"jsValue":"[model_x_, 1230, 0]"}]},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-2krza92biys","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Get scores"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-fh90xi0y2g8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"s","jsValue":"s_"},{"name":"value","value":"model_coll@scores[\"score_solar\"]","usedVars":["model_coll"],"jsValue":"__modules__.attrib.Get(__params__.model, model_coll_, ['scores', \"score_solar\"])"}],"variable":["s"],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-znz1jz4s9nm","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"value","value":"model_coll@scores[\"score_view_ratio\"]","usedVars":["model_coll"],"jsValue":"__modules__.attrib.Get(__params__.model, model_coll_, ['scores', \"score_view_ratio\"])"}],"variable":["v"],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-uty5jpzu1qm","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"r","jsValue":"r_"},{"name":"value","value":"model_coll@scores[\"score_river_view\"]","usedVars":["model_coll"],"jsValue":"__modules__.attrib.Get(__params__.model, model_coll_, ['scores', \"score_river_view\"])"}],"variable":["r"],"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-dg3ilplj20v","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calculate weighted perfomance score"}]},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-mgdv3lr9jv9","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"\\x7e~~~~ START EDITING CODE ~~~~~"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-1sqccctajz7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"s2_range","jsValue":"s2_range_"},{"name":"value","value":"[0, WEIGHT_SOLAR]","usedVars":["WEIGHT_SOLAR"],"jsValue":"[0, WEIGHT_SOLAR_]"}],"variable":["s2_range"]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-wzubflpdim","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"s2","jsValue":"s2_"},{"name":"value","value":"remap(s, [0, 100], s2_range)","usedVars":["s","s2_range"],"jsValue":"remap(__debug__, s_, [0, 100], s2_range_)"}],"variable":["s2"]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-jccg2m41pk","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"v2_range","jsValue":"v2_range_"},{"name":"value","value":"[0, WEIGHT_RIVER_VIEW]","usedVars":["WEIGHT_RIVER_VIEW"],"jsValue":"[0, WEIGHT_RIVER_VIEW_]"}],"variable":["v2_range"],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-oxjss8pe0xj","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"v2","jsValue":"v2_"},{"name":"value","value":"remap(v, [0, 100], v2_range)","usedVars":["v","v2_range"],"jsValue":"remap(__debug__, v_, [0, 100], v2_range_)"}],"variable":["v2"],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-vdzisziko2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"r2_range","jsValue":"r2_range_"},{"name":"value","value":"[0, WEIGHT_VIEW_RATIO]","usedVars":["WEIGHT_VIEW_RATIO"],"jsValue":"[0, WEIGHT_VIEW_RATIO_]"}],"variable":["r2_range"]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-c7uwbxg4mm7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"r2","jsValue":"r2_"},{"name":"value","value":"remap(r, [0, 100], r2_range)","usedVars":["r","r2_range"],"jsValue":"remap(__debug__, r_, [0, 100], r2_range_)"}],"variable":["r2"],"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-7eetifpuj9k","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"\\x7e~~~~ END EDITING CODE ~~~~~"}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-ha4qb5sw98v","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"overall","jsValue":"overall_"},{"name":"value","value":"s2 + v2 + r2","usedVars":["s2","v2","r2"],"jsValue":"s2_ + v2_ + r2_"}],"variable":["overall"]},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-m50b5n9j1gb","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Vertical bar XY and height"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-edtoxc51zp","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"x","jsValue":"x_"},{"name":"value","value":"remap(s, solar_range, [20, 1000])","usedVars":["s","solar_range"],"jsValue":"remap(__debug__, s_, solar_range_, [20, 1000])"}],"variable":["x"]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-ythqk43n40n","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"y","jsValue":"y_"},{"name":"value","value":"remap(v, view_ratio_range, [20, 1000])","usedVars":["v","view_ratio_range"],"jsValue":"remap(__debug__, v_, view_ratio_range_, [20, 1000])"}],"variable":["y"],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-aewp3rvg3pa","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"h","jsValue":"h_"},{"name":"value","value":"remap(r, river_view_range, [0, 200])","usedVars":["r","river_view_range"],"jsValue":"remap(__debug__, r_, river_view_range_, [0, 200])"}],"variable":["h"],"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-w46r9a1ma2e","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Creat vertical bar"}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-whhgm6k6w99","enabled":true,"print":false,"meta":{"module":"pattern","name":"Box"},"argCount":6,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"origin","value":"[x, y, h / 2]","usedVars":["x","y","h"],"jsValue":"[x_, y_, h_ / 2]"},{"name":"size","value":"[50, 50, h]","usedVars":["h"],"jsValue":"[50, 50, h_]"},{"name":"num_positions","value":"2","usedVars":[],"jsValue":"2"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":["posis"]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-zh828n81r4","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"bar","jsValue":"bar_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"variable":["bar"]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-6vkhz008jqt","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"bar@type","jsValue":"bar_@type","usedVars":["bar"]},{"name":"value","value":"\"bar\"","usedVars":[],"jsValue":"\"bar\""}],"variable":null},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-nm60y5splkf","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"bar@score","jsValue":"bar_@score","usedVars":["bar"]},{"name":"value","value":"overall","usedVars":["overall"],"jsValue":"overall_"}],"variable":null,"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-8kxeymkbbju","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Create line"}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-xdlcllaz71l","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"coords","value":"[[model_x + 130, 1090, 0], [x, y, 0]]","usedVars":["model_x","x","y"],"jsValue":"[[model_x_ + 130, 1090, 0], [x_, y_, 0]]"}],"variable":["posis"]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~11","ID":"prod-mpgo0ijtdvn","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"line","jsValue":"line_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":["line"]}],"variable":["i"],"selectGeom":false},{"type":14,"ID":"prod-ahr2w1vic8d","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Assign a colour to each bar"}]},{"type":8,"ID":"prod-quer4tcofih","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#pg ?@type==\"bar\"","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"bar\")"},{"name":"attrib","value":"\"score\"","usedVars":[],"jsValue":"\"score\""},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true,"hasExecuted":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_3jlw7gl74q6","position":{"x":5520,"y":5180},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-0al1p6zcffuu","enabled":true,"print":false,"meta":{"module":"edit","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#co ?@name==\"model\"","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'co', null), ['name', null], '==', \"model\")"},{"name":"method","value":"'delete_selected'","jsValue":"'delete_selected'","usedVars":[]}]},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","jsValue":""},{"name":"value","value":"","jsValue":"","usedVars":[]}],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true,"hasExecuted":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true,"model":6}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"model":5}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode"},"model":3}},"selected":false},"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input~edges~0"],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0"},"hasError":false,"hasExecuted":true,"model":2},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~1~source~parentNode~input~edges~0"],"functions":[],"ordered":true,"last_updated":"2021-11-19T04:06:27.232Z"},"version":"0.8.11","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":860,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":false,\"size\":8},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":false},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":370.8162369783324,\"y\":-481.96363856008725,\"z\":367.48080136769875},\"target\":{\"x\":186.28411700387147,\"y\":99.32669181786844,\"z\":-24.118407794776957},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.22},\"directional_light\":{\"show\":true,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":2048},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.5.77\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2020-05-11T04:37\"},\"updated\":true,\"model\":{\"polygonEdge\":true}},\"day_light\":{\"show\":true,\"helper\":false,\"intensity\":1,\"position\":[0,2000,1000],\"size\":1000},\"aframe\":{\"camera\":{\"position\":{\"x\":0,\"y\":5,\"z\":0},\"rotation\":{\"x\":0,\"y\":0,\"z\":0},\"acceleration\":100,\"show_cam_info\":true},\"background\":{\"background_set\":1,\"background_url\":\"\",\"background_position\":{\"x\":0,\"y\":0,\"z\":0},\"background_rotation\":0},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.15},\"hemisphere_light\":{\"show\":true,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.15,\"helper\":false},\"directional_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":1,\"azimuth\":90,\"altitude\":45,\"shadowSize\":2048,\"helper\":false,\"shadow\":true,\"distance\":10,\"type\":\"directional\"},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"updated\":true,\"vr\":{\"background_url\":\"\",\"background_rotation\":0,\"foreground_url\":\"\",\"foreground_rotation\":0},\"vr_hotspot\":{\"background_url\":\"\",\"background_rotation\":0,\"foreground_url\":\"\",\"foreground_rotation\":0}},\"geo\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\"},\"camera\":{\"pos\":{\"x\":-1527283.7468961987,\"y\":6191311.461757863,\"z\":143185.48468882398},\"rot\":{\"x\":-2.425918728942714,\"y\":-0.1452819834138219,\"z\":2.947126201525924},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2021-03-08T15:13\"},\"model\":{\"polygonEdge\":false},\"updated\":true}}"}